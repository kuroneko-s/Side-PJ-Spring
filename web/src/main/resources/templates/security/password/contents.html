<link rel="stylesheet" href="/css/security/find/index.css"/>
<main class="login-container">
    <p class="login-title">계정 찾기</p>

    <!-- toast message start -->
    <div class="login-toast-message-container" id="login-toast-message-container">
        <div class="login-toast-message" th:if="${message}">
            <p th:text="${message}">이메일과 패스워드가 일치하지 않습니다.</p>
            <button type="button" class="login-toast-message-close-button" id="login-toast-message-close-button">
                <span>&times;</span>
            </button>
        </div>
    </div>
    <!-- toast message end -->

    <form class="form login-form needs-validation" action="#" th:action="@{/findAccount}" method="post" novalidate>
        <label for="email">이메일</label>
        <input id="email" type="email" name="email" placeholder="sample@gmail.com" required
               pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}">
        <small class="invalid-feedback">이메일을 다시 입력해주세요.</small>

        <button type="submit" class="button login-form-button">계정 찾기</button>
    </form>

    <div th:replace="fragment/fragment.html :: form-validation"></div>
</main>

<script type="application/javascript">
    window.addEventListener("DOMContentLoaded", () => {
        // toast message button click event
        document?.getElementById("login-toast-message-close-button").addEventListener("click", () => {
            document.getElementById("login-toast-message-container").classList.add("hide");
        });
    })
</script>